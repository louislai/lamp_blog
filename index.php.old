<?php
//:Initialize database credentials
$host = 'localhost';
$user = 'root';
$password = '123456';
$dbname = 'louis_blog';

// Build database query
$sql = 'select * from blog_posts';

// Open database conn
try {

    $conn = new PDO("mysql:host=$host;dbname=$dbname", $user, $password);
    // set the PDO error mode to exception
    $conn ->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    echo "Connected successfully";
} catch(PDOException $e)  {
    echo "conn failed: " . $e->getMessage();
}


// Select target database
mysql_select_db($dbname, $conn)
    or die(mysql_error());

// Execute database query
$result = mysql_query($sql, $conn)
    or die(mysql_error());

// Initialize rows array
$rows = array();

// Fetch rows from database cursor
while ($row = mysql_fetch_array($result, MYSQL_ASSOC)) {
    $rows[] = $row;
}

// Close database conn
$conn = null;
?>

